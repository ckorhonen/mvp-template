# ===========================================
# Cloudflare Workers MVP Template
# Environment Configuration
# ===========================================

# ===========================================
# CLOUDFLARE CONFIGURATION
# ===========================================

# Cloudflare Account Configuration
# Get these from: https://dash.cloudflare.com
CLOUDFLARE_ACCOUNT_ID=your-account-id-here
CLOUDFLARE_API_TOKEN=your-api-token-here

# ===========================================
# AI GATEWAY CONFIGURATION
# ===========================================

# OpenAI API Configuration (for AI Gateway)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Cloudflare AI Gateway
# Create at: https://dash.cloudflare.com/ai/ai-gateway
AI_GATEWAY_ID=your-ai-gateway-id
AI_GATEWAY_ENDPOINT=https://gateway.ai.cloudflare.com/v1/{account_id}/{gateway_id}

# AI Model Configuration
AI_DEFAULT_MODEL=gpt-4o-mini
AI_DEFAULT_TEMPERATURE=0.7
AI_MAX_TOKENS=1000

# ===========================================
# D1 DATABASE CONFIGURATION
# ===========================================

# D1 Database IDs
# Create with: wrangler d1 create mvp-database
D1_DATABASE_ID=your-d1-database-id
D1_DATABASE_NAME=mvp-database

# Environment-specific database IDs
D1_PREVIEW_DATABASE_ID=your-preview-d1-database-id
D1_STAGING_DATABASE_ID=your-staging-d1-database-id
D1_PRODUCTION_DATABASE_ID=your-production-d1-database-id

# Database Configuration
DATABASE_ENABLE_LOGGING=false
DATABASE_ENABLE_METRICS=true

# ===========================================
# KV NAMESPACE CONFIGURATION
# ===========================================

# KV Namespace IDs
# Create with: wrangler kv:namespace create CACHE
KV_CACHE_ID=your-kv-cache-namespace-id
KV_CACHE_PREVIEW_ID=your-preview-kv-cache-namespace-id
KV_SESSIONS_ID=your-kv-sessions-namespace-id
KV_SESSIONS_PREVIEW_ID=your-preview-kv-sessions-namespace-id
KV_CONFIG_ID=your-kv-config-namespace-id
KV_CONFIG_PREVIEW_ID=your-preview-kv-config-namespace-id

# ===========================================
# R2 BUCKET CONFIGURATION
# ===========================================

# R2 Bucket Names
# Create with: wrangler r2 bucket create mvp-assets
R2_ASSETS_BUCKET=mvp-assets
R2_ASSETS_PREVIEW_BUCKET=mvp-assets-preview
R2_UPLOADS_BUCKET=mvp-uploads
R2_UPLOADS_PREVIEW_BUCKET=mvp-uploads-preview
R2_BACKUPS_BUCKET=mvp-backups
R2_BACKUPS_PREVIEW_BUCKET=mvp-backups-preview

# ===========================================
# ANALYTICS ENGINE CONFIGURATION
# ===========================================

# Analytics Engine Dataset
ANALYTICS_DATASET_NAME=mvp-analytics
ANALYTICS_ENABLE_TRACKING=true

# ===========================================
# QUEUE CONFIGURATION
# ===========================================

# Queue Names
# Create with: wrangler queues create mvp-tasks
QUEUE_TASKS_NAME=mvp-tasks
QUEUE_EMAILS_NAME=mvp-emails
QUEUE_NOTIFICATIONS_NAME=mvp-notifications

# Queue Configuration
QUEUE_MAX_BATCH_SIZE=10
QUEUE_MAX_BATCH_TIMEOUT=30

# ===========================================
# WORKER CONFIGURATION
# ===========================================

# Worker Settings
WORKER_NAME=mvp-template
WORKER_ENVIRONMENT=development
WORKER_LOG_LEVEL=info

# ===========================================
# CORS CONFIGURATION
# ===========================================

# CORS Settings
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8787
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-API-Key
CORS_MAX_AGE=86400
CORS_CREDENTIALS=true

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REQUESTS_PER_DAY=10000

# Rate Limit Windows (in seconds)
RATE_LIMIT_WINDOW_MINUTE=60
RATE_LIMIT_WINDOW_HOUR=3600
RATE_LIMIT_WINDOW_DAY=86400

# ===========================================
# SESSION CONFIGURATION
# ===========================================

# Session Settings
SESSION_DURATION_SECONDS=86400
SESSION_SECRET=your-session-secret-here-min-32-chars
SESSION_COOKIE_NAME=mvp_session
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# ===========================================
# API CONFIGURATION
# ===========================================

# API Settings
API_VERSION=v1
API_BASE_PATH=/api
API_TIMEOUT=30000

# API Keys
API_KEY_PREFIX=mvp_
API_KEY_LENGTH=32

# ===========================================
# FEATURE FLAGS
# ===========================================

# Feature Toggles
FEATURE_AI_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_RATE_LIMITING_ENABLED=true
FEATURE_CACHING_ENABLED=true
FEATURE_AUDIT_LOGGING_ENABLED=true
FEATURE_EMAIL_ENABLED=false

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# Security Settings
ENABLE_HTTPS_ONLY=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/csp-report

# JWT Configuration
JWT_SECRET=your-jwt-secret-here-min-32-chars
JWT_EXPIRATION=86400
JWT_ALGORITHM=HS256

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# Email Service (e.g., SendGrid, Mailgun)
EMAIL_API_KEY=your-email-api-key
EMAIL_FROM_ADDRESS=noreply@example.com
EMAIL_FROM_NAME=MVP Template

# Payment Gateway (e.g., Stripe)
STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Analytics (e.g., Google Analytics)
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Error Tracking (e.g., Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================

# Development Settings
DEV_PORT=8787
DEV_HOST=localhost
DEV_ENABLE_HOT_RELOAD=true

# Local Development
LOCAL_HTTPS=false
LOCAL_CERT_PATH=
LOCAL_KEY_PATH=

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================

# Monitoring
MONITORING_ENABLED=true
MONITORING_SAMPLE_RATE=1.0

# Metrics
METRICS_ENABLED=true
METRICS_FLUSH_INTERVAL=60000

# Tracing
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1

# ===========================================
# CACHE CONFIGURATION
# ===========================================

# Cache Settings
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_AGE=86400
CACHE_STALE_WHILE_REVALIDATE=60

# Cache Keys Prefix
CACHE_KEY_PREFIX=mvp:

# ===========================================
# WEBHOOK CONFIGURATION
# ===========================================

# Webhook Settings
WEBHOOK_SECRET=your-webhook-secret-here
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_COUNT=3

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=30
BACKUP_R2_BUCKET=mvp-backups
