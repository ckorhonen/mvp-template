# ===========================================
# Cloudflare Workers MVP Template
# Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control!

# ====================
# Cloudflare Account
# ====================
# Get from: https://dash.cloudflare.com/ (right sidebar)
CLOUDFLARE_ACCOUNT_ID=your-account-id-here

# Create at: https://dash.cloudflare.com/profile/api-tokens
# Permissions needed: Workers Scripts:Edit, D1:Edit, R2:Edit, KV:Edit
CLOUDFLARE_API_TOKEN=your-api-token-here

# ====================
# OpenAI API (for AI Gateway)
# ====================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ====================
# Cloudflare AI Gateway
# ====================
# Create at: https://dash.cloudflare.com/ai/ai-gateway
AI_GATEWAY_ID=your-ai-gateway-id
# Format: https://gateway.ai.cloudflare.com/v1/{account_id}/{gateway_id}
AI_GATEWAY_ENDPOINT=https://gateway.ai.cloudflare.com/v1/${CLOUDFLARE_ACCOUNT_ID}/${AI_GATEWAY_ID}

# ====================
# D1 Database IDs
# ====================
# Create databases:
#   wrangler d1 create mvp-database
#   wrangler d1 create mvp-database-staging
#   wrangler d1 create mvp-database-production

D1_DATABASE_ID=your-d1-database-id
D1_STAGING_DATABASE_ID=your-staging-d1-database-id
D1_PRODUCTION_DATABASE_ID=your-production-d1-database-id

# ====================
# KV Namespace IDs
# ====================
# Create KV namespaces:
#   wrangler kv:namespace create CACHE
#   wrangler kv:namespace create CACHE --preview
#   wrangler kv:namespace create SESSIONS
#   wrangler kv:namespace create SESSIONS --preview

# Development
KV_CACHE_ID=your-kv-cache-namespace-id
KV_CACHE_PREVIEW_ID=your-preview-kv-cache-namespace-id
KV_SESSIONS_ID=your-kv-sessions-namespace-id
KV_SESSIONS_PREVIEW_ID=your-preview-kv-sessions-namespace-id

# Staging
KV_STAGING_CACHE_ID=your-staging-kv-cache-id
KV_STAGING_SESSIONS_ID=your-staging-kv-sessions-id

# Production
KV_PRODUCTION_CACHE_ID=your-production-kv-cache-id
KV_PRODUCTION_SESSIONS_ID=your-production-kv-sessions-id

# ====================
# R2 Bucket Names
# ====================
# Create R2 buckets:
#   wrangler r2 bucket create mvp-assets
#   wrangler r2 bucket create mvp-assets-staging
#   wrangler r2 bucket create mvp-assets-production
#   wrangler r2 bucket create mvp-uploads
#   wrangler r2 bucket create mvp-uploads-staging
#   wrangler r2 bucket create mvp-uploads-production

# Development
R2_ASSETS_BUCKET=mvp-assets
R2_ASSETS_PREVIEW_BUCKET=mvp-assets-preview
R2_UPLOADS_BUCKET=mvp-uploads
R2_UPLOADS_PREVIEW_BUCKET=mvp-uploads-preview

# Staging
R2_ASSETS_STAGING_BUCKET=mvp-assets-staging
R2_UPLOADS_STAGING_BUCKET=mvp-uploads-staging

# Production
R2_ASSETS_PRODUCTION_BUCKET=mvp-assets-production
R2_UPLOADS_PRODUCTION_BUCKET=mvp-uploads-production

# ====================
# Worker Configuration
# ====================
WORKER_NAME=mvp-template
WORKER_ENVIRONMENT=development
WORKER_LOG_LEVEL=info

# ====================
# CORS Configuration
# ====================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8787
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Key

# ====================
# Rate Limiting
# ====================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REQUESTS_PER_DAY=10000

# ====================
# Session Configuration
# ====================
SESSION_DURATION_SECONDS=86400
SESSION_SECRET=your-session-secret-here-change-this-in-production

# ====================
# API Configuration
# ====================
API_VERSION=v1
API_BASE_PATH=/api
API_TIMEOUT_MS=30000

# ====================
# Feature Flags
# ====================
FEATURE_AI_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_RATE_LIMITING_ENABLED=true
FEATURE_AUDIT_LOGGING_ENABLED=true

# ====================
# Development Settings
# ====================
DEV_PORT=8787
DEV_HOST=localhost
DEV_LIVE_RELOAD=true

# ====================
# Monitoring & Observability
# ====================
# Optional: Add monitoring service API keys
# SENTRY_DSN=your-sentry-dsn
# DATADOG_API_KEY=your-datadog-api-key

# ====================
# External Services (Optional)
# ====================
# Add any external service API keys here
# STRIPE_API_KEY=sk_test_...
# SENDGRID_API_KEY=SG...
# TWILIO_AUTH_TOKEN=...
